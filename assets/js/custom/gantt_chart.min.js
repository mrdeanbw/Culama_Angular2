!function(t){"use strict";var e="kinetic-active";window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}()),t.support=t.support||{},t.extend(t.support,{touch:"ontouchend"in document});var i=function(){return!1},s=function(e,i){return this.settings=i,this.el=e,this.$el=t(e),this._initElements(),this};s.DATA_KEY="kinetic",s.DEFAULTS={cursor:"move",decelerate:!0,triggerHardware:!1,threshold:0,y:!0,x:!0,slowdown:.9,maxvelocity:40,throttleFPS:60,movingClass:{up:"kinetic-moving-up",down:"kinetic-moving-down",left:"kinetic-moving-left",right:"kinetic-moving-right"},deceleratingClass:{up:"kinetic-decelerating-up",down:"kinetic-decelerating-down",left:"kinetic-decelerating-left",right:"kinetic-decelerating-right"}},s.prototype.start=function(e){this.settings=t.extend(this.settings,e),this.velocity=e.velocity||this.velocity,this.velocityY=e.velocityY||this.velocityY,this.settings.decelerate=!1,this._move()},s.prototype.end=function(){this.settings.decelerate=!0},s.prototype.stop=function(){this.velocity=0,this.velocityY=0,this.settings.decelerate=!0,t.isFunction(this.settings.stopped)&&this.settings.stopped.call(this)},s.prototype.detach=function(){this._detachListeners(),this.$el.removeClass(e).css("cursor","")},s.prototype.attach=function(){this.$el.hasClass(e)||(this._attachListeners(this.$el),this.$el.addClass(e).css("cursor",this.settings.cursor))},s.prototype._initElements=function(){this.$el.addClass(e),t.extend(this,{xpos:null,prevXPos:!1,ypos:null,prevYPos:!1,mouseDown:!1,throttleTimeout:1e3/this.settings.throttleFPS,lastMove:null,elementFocused:null}),this.velocity=0,this.velocityY=0,t(document).mouseup(t.proxy(this._resetMouse,this)).click(t.proxy(this._resetMouse,this)),this._initEvents(),this.$el.css("cursor",this.settings.cursor),this.settings.triggerHardware&&this.$el.css({"-webkit-transform":"translate3d(0,0,0)","-webkit-perspective":"1000","-webkit-backface-visibility":"hidden"})},s.prototype._initEvents=function(){var e=this;this.settings.events={touchStart:function(t){var i;e._useTarget(t.target,t)&&(i=t.originalEvent.touches[0],e.threshold=e._threshold(t.target,t),e._start(i.clientX,i.clientY),t.stopPropagation())},touchMove:function(t){var i;e.mouseDown&&(i=t.originalEvent.touches[0],e._inputmove(i.clientX,i.clientY),t.preventDefault&&t.preventDefault())},inputDown:function(t){e._useTarget(t.target,t)&&(e.threshold=e._threshold(t.target,t),e._start(t.clientX,t.clientY),e.elementFocused=t.target,"IMG"===t.target.nodeName&&t.preventDefault(),t.stopPropagation())},inputEnd:function(t){e._useTarget(t.target,t)&&(e._end(),e.elementFocused=null,t.preventDefault&&t.preventDefault())},inputMove:function(t){e.mouseDown&&(e._inputmove(t.clientX,t.clientY),t.preventDefault&&t.preventDefault())},scroll:function(i){t.isFunction(e.settings.moved)&&e.settings.moved.call(e,e.settings),i.preventDefault&&i.preventDefault()},inputClick:function(t){return Math.abs(e.velocity)>0?(t.preventDefault(),!1):void 0},dragStart:function(t){return(!e._useTarget(t.target,t)||!e.elementFocused)&&void 0}},this._attachListeners(this.$el,this.settings)},s.prototype._inputmove=function(e,i){var s=this.$el;if(this.el,(!this.lastMove||new Date>new Date(this.lastMove.getTime()+this.throttleTimeout))&&(this.lastMove=new Date,this.mouseDown&&(this.xpos||this.ypos))){var n=e-this.xpos,a=i-this.ypos;if(this.threshold>0){var r=Math.sqrt(n*n+a*a);if(this.threshold>r)return;this.threshold=0}this.elementFocused&&(t(this.elementFocused).blur(),this.elementFocused=null,s.focus()),this.settings.decelerate=!1,this.velocity=this.velocityY=0;var o=this.scrollLeft(),l=this.scrollTop();this.scrollLeft(this.settings.x?o-n:o),this.scrollTop(this.settings.y?l-a:l),this.prevXPos=this.xpos,this.prevYPos=this.ypos,this.xpos=e,this.ypos=i,this._calculateVelocities(),this._setMoveClasses(this.settings.movingClass),t.isFunction(this.settings.moved)&&this.settings.moved.call(this,this.settings)}},s.prototype._calculateVelocities=function(){this.velocity=this._capVelocity(this.prevXPos-this.xpos,this.settings.maxvelocity),this.velocityY=this._capVelocity(this.prevYPos-this.ypos,this.settings.maxvelocity)},s.prototype._end=function(){this.xpos&&this.prevXPos&&this.settings.decelerate===!1&&(this.settings.decelerate=!0,this._calculateVelocities(),this.xpos=this.prevXPos=this.mouseDown=!1,this._move())},s.prototype._useTarget=function(e,i){return!t.isFunction(this.settings.filterTarget)||this.settings.filterTarget.call(this,e,i)!==!1},s.prototype._threshold=function(e,i){return t.isFunction(this.settings.threshold)?this.settings.threshold.call(this,e,i):this.settings.threshold},s.prototype._start=function(t,e){this.mouseDown=!0,this.velocity=this.prevXPos=0,this.velocityY=this.prevYPos=0,this.xpos=t,this.ypos=e},s.prototype._resetMouse=function(){this.xpos=!1,this.ypos=!1,this.mouseDown=!1},s.prototype._decelerateVelocity=function(t,e){return 0===Math.floor(Math.abs(t))?0:t*e},s.prototype._capVelocity=function(t,e){var i=t;return t>0?t>e&&(i=e):0-e>t&&(i=0-e),i},s.prototype._setMoveClasses=function(t){var e=this.settings,i=this.$el;i.removeClass(e.movingClass.up).removeClass(e.movingClass.down).removeClass(e.movingClass.left).removeClass(e.movingClass.right).removeClass(e.deceleratingClass.up).removeClass(e.deceleratingClass.down).removeClass(e.deceleratingClass.left).removeClass(e.deceleratingClass.right),this.velocity>0&&i.addClass(t.right),this.velocity<0&&i.addClass(t.left),this.velocityY>0&&i.addClass(t.down),this.velocityY<0&&i.addClass(t.up)},s.prototype._move=function(){var e=(this.$el,this.el),i=this,s=i.settings;s.x&&e.scrollWidth>0?(this.scrollLeft(this.scrollLeft()+this.velocity),Math.abs(this.velocity)>0&&(this.velocity=s.decelerate?i._decelerateVelocity(this.velocity,s.slowdown):this.velocity)):this.velocity=0,s.y&&e.scrollHeight>0?(this.scrollTop(this.scrollTop()+this.velocityY),Math.abs(this.velocityY)>0&&(this.velocityY=s.decelerate?i._decelerateVelocity(this.velocityY,s.slowdown):this.velocityY)):this.velocityY=0,i._setMoveClasses(s.deceleratingClass),t.isFunction(s.moved)&&s.moved.call(this,s),Math.abs(this.velocity)>0||Math.abs(this.velocityY)>0?this.moving||(this.moving=!0,window.requestAnimationFrame(function(){i.moving=!1,i._move()})):i.stop()},s.prototype._getScroller=function(){var e=this.$el;return(this.$el.is("body")||this.$el.is("html"))&&(e=t(window)),e},s.prototype.scrollLeft=function(t){var e=this._getScroller();return"number"!=typeof t?e.scrollLeft():(e.scrollLeft(t),void(this.settings.scrollLeft=t))},s.prototype.scrollTop=function(t){var e=this._getScroller();return"number"!=typeof t?e.scrollTop():(e.scrollTop(t),void(this.settings.scrollTop=t))},s.prototype._attachListeners=function(){var e=this.$el,s=this.settings;t.support.touch&&e.bind("touchstart",s.events.touchStart).bind("touchend",s.events.inputEnd).bind("touchmove",s.events.touchMove),e.mousedown(s.events.inputDown).mouseup(s.events.inputEnd).mousemove(s.events.inputMove),e.click(s.events.inputClick).scroll(s.events.scroll).bind("selectstart",i).bind("dragstart",s.events.dragStart)},s.prototype._detachListeners=function(){var e=this.$el,s=this.settings;t.support.touch&&e.unbind("touchstart",s.events.touchStart).unbind("touchend",s.events.inputEnd).unbind("touchmove",s.events.touchMove),e.unbind("mousedown",s.events.inputDown).unbind("mouseup",s.events.inputEnd).unbind("mousemove",s.events.inputMove),e.unbind("click",s.events.inputClick).unbind("scroll",s.events.scroll).unbind("selectstart",i).unbind("dragstart",s.events.dragStart)},t.Kinetic=s,t.fn.kinetic=function(e,i){return this.each(function(){var n=t(this),a=n.data(s.DATA_KEY),r=t.extend({},s.DEFAULTS,n.data(),"object"==typeof e&&e);a||n.data(s.DATA_KEY,a=new s(this,r)),"string"==typeof e&&a[e](i)})}}(window.jQuery||window.Zepto),function(t,e){function i(t){var e="";if(t=parseInt(t,10),!t||1>t)return e;for(;t;)e+="0",--t;return e}function s(t,e,s){return null==t&&(t=""),t=""+t,(s?t:"")+i(e-t.length)+(s?"":t)}function n(t,e){for(var i=t.length;--i;)if(e(t[i]))return t[i]}function a(t,e){var i,s=0,n=t.length;for("function"!=typeof e&&(i=e,e=function(t){return t===i});s<n;){if(e(t[s]))return t[s];s+=1}}function r(t,e){var i=0,s=t.length;if(t&&s)for(;i<s&&!1!==e(t[i],i);)i+=1}function o(t,e){var i=0,s=t.length,n=[];if(!t||!s)return n;for(;i<s;)n[i]=e(t[i],i),i+=1;return n}function l(t,e){return o(t,function(t){return t[e]})}function c(t){var e=[];return r(t,function(t){t&&e.push(t)}),e}function d(t){var e=[];return r(t,function(t){a(e,t)||e.push(t)}),e}function h(t,e){var i=[];return r(t,function(t){r(e,function(e){t===e&&i.push(t)})}),d(i)}function u(t,e){var i=[];return r(t,function(s,n){if(!e(s))return i=t.slice(n),!1}),i}function v(t,e){var i=t.slice().reverse();return u(i,e).reverse()}function p(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}var g;if("function"==typeof require)try{g=require("moment")}catch(f){}if(!g&&t.moment&&(g=t.moment),!g)throw"Moment Duration Format cannot find Moment.js";g.duration.fn.format=function(){var t,e,n,f,m,w;t=[].slice.call(arguments);var y=p({},this.format.defaults),b=g.duration(this);return y.duration=this,r(t,function(t){"string"==typeof t||"function"==typeof t?y.template=t:"number"==typeof t?y.precision=t:"[object Object]"===Object.prototype.toString.call(t)&&p(y,t)}),n=y.types="[object Array]"===Object.prototype.toString.call(y.types)?y.types:y.types.split(" "),"function"==typeof y.template&&(y.template=y.template.apply(y)),t=new RegExp(o(n,function(t){return y[t].source}).join("|"),"g"),f=function(t){return a(n,function(e){return y[e].test(t)})},e=o(y.template.match(t),function(t,e){var i=f(t);return{index:e,length:t.length,token:"escape"===i?t.replace(y.escape,"$1"):t,type:"escape"===i||"general"===i?null:i}},this),m=h(n,d(c(l(e,"type")))),m.length?(r(m,function(t,i){var s,n,a,o,l;s=b.as(t),n=0<s?Math.floor(s):Math.ceil(s),a=s-n,o=i+1===m.length,l=!i,r(e,function(e){e.type===t&&(p(e,{value:s,wholeValue:n,decimalValue:a,isLeast:o,isMost:l}),l&&null==y.forceLength&&1<e.length&&(y.forceLength=!0))}),b.subtract(n,t)}),y.trim&&(e=("left"===y.trim?u:v)(e,function(t){return!(t.isLeast||null!=t.type&&t.wholeValue)})),w=!1,"right"===y.trim&&e.reverse(),e=o(e,function(t){var e,n;if(!t.type)return t.token;if(e=t.isLeast&&0>y.precision?(Math.floor(t.wholeValue*Math.pow(10,y.precision))*Math.pow(10,-y.precision)).toString():t.wholeValue.toString(),e=e.replace(/^\-/,""),1<t.length&&(w||t.isMost||y.forceLength)&&(e=s(e,t.length)),t.isLeast&&0<y.precision)switch(n=t.decimalValue.toString().replace(/^\-/,"").split(/\.|e\-/),n.length){case 1:e+="."+s(n[0],y.precision,!0).slice(0,y.precision);break;case 2:e+="."+s(n[1],y.precision,!0).slice(0,y.precision);break;case 3:e+="."+s(i(+n[2]-1)+(n[0]||"0")+n[1],y.precision,!0).slice(0,y.precision);break;default:throw"Moment Duration Format: unable to parse token decimal value."}return t.isMost&&0>t.value&&(e="-"+e),w=!0,e}),"right"===y.trim&&e.reverse(),e.join("")):l(e,"token").join("")},g.duration.fn.format.defaults={escape:/\[(.+?)\]/,years:/[Yy]+/,months:/M+/,weeks:/[Ww]+/,days:/[Dd]+/,hours:/[Hh]+/,minutes:/m+/,seconds:/s+/,milliseconds:/S+/,general:/.+?/,types:"escape years months weeks days hours minutes seconds milliseconds general",trim:"left",precision:0,forceLength:null,template:function(){var t=this.duration;switch(n(this.types,function(e){return t._data[e]})){case"seconds":return"h:mm:ss";case"minutes":return"d[d] h:mm";case"hours":return"d[d] h[h]";case"days":return"M[m] d[d]";case"weeks":return"y[y] w[w]";case"months":return"y[y] M[m]";case"years":return"y[y]";default:return"y[y] M[m] d[d] h:mm:ss"}}}}(this),function(t){function e(e){function i(){var e=Math.floor(l.slideWidth/l.cellWidth+5),i=a.getBoundaryDatesFromData(l.data,e);l.start=l.startDate?moment(l.startDate,"MM/DD/YYYY")._d:i[0],l.end=l.endDate?moment(l.endDate,"MM/DD/YYYY")._d:i[1],r.each(function(){var e=t(this),i=t("<div>",{"class":"ganttview"});new s(i,l).render(),e.append(i);t("div.ganttview-vtheader",e).outerWidth()+t("div.ganttview-slide-container",e).outerWidth();new n(e,l).apply()})}var r=this,o={showWeekends:!0,toggleProjects:!0,cellWidth:20,slideWidth:400,kineticScroll:!0,startDate:!1,endDate:!1,behavior:{clickable:!1,draggable:!0,resizable:!0}},l=t.extend(!0,o,e);l.data?i():l.dataUrl&&t.getJSON(l.dataUrl,function(t){l.data=t,i()})}function i(t,e){if("setSlideWidth"==t){var i=$("div.ganttview",this);i.each(function(){var t=$("div.ganttview-vtheader",i).outerWidth();$(i).width(t+e+1),$("div.ganttview-slide-container",this).width(e)})}}t.fn.ganttView=function(){var t=Array.prototype.slice.call(arguments);1==t.length&&"object"==typeof t[0]&&e.call(this,t[0]),2==t.length&&"string"==typeof t[0]&&i.call(this,t[0],t[1])};var s=function(e,i){function s(){r(e,i.data);var s=t("<div>",{"class":"ganttview-slide-container"});dates=n(i.start,i.end),o(s,dates,i.cellWidth,i.showWeekends),l(s,i.data,dates,i.cellWidth,i.showWeekends),c(s,i.data),d(s,i.data,i.cellWidth,i.start),e.append(s),t(e).find(".ganttview-blocks").width(s.find(".ganttview-grid").width()),u(e.parent()),i.toggleProjects&&v(e),i.kineticScroll&&!Modernizr.touch&&p(e)}function n(t,e){var i=[];i[t.getFullYear()]=[],i[t.getFullYear()][t.getMonth()]=[t];for(var s=t;moment(e).isAfter(s);){var n=moment(s).add(1,"days")._d;i[n.getFullYear()]||(i[n.getFullYear()]=[]),i[n.getFullYear()][n.getMonth()]||(i[n.getFullYear()][n.getMonth()]=[]),i[n.getFullYear()][n.getMonth()].push(n),s=n}return i}function r(e,i){for(var s=t("<div>",{"class":"ganttview-vtheader"}),n=0;n<i.length;n++){var a=t("<div>",{"class":"ganttview-vtheader-group"});a.append(t("<div>",{"class":"ganttview-vtheader-group-name",id:"groupId_"+n}).append(i[n].name).append("<span/>"));for(var r=t("<div>",{"class":"ganttview-vtheader-series"}),o=0;o<i[n].series.length;o++){var l=t("<div>",{"class":"ganttview-vtheader-series-row"});if(i[n].series[o].sub_series){var c=t("<div>",{"class":"series-content"}),d=t("<div>",{"class":"series-dates"});series_users=t("<div>",{"class":"series-users"}),c.append('<div class="series-name">'+i[n].series[o].name+"</div>");for(var h=0;h<i[n].series[o].sub_series.length;h++){var u=h>0?'<span class="date-sep">|</span>':"",v=i[n].series[o].sub_series[h];if(v.user_avatar){var p=t("<div>",{"class":"series-user"});v.user_name;user_avatar=v.user_avatar,p.append('<span><img src="'+user_avatar+'"/></span>'),series_users.append(p),l.append(series_users)}d.append(function(){return u+moment(v.start,"MM/DD/YYYY").format("D MMM")+" - "+moment(v.end,"MM/DD/YYYY").format("D MMM")}),c.append(d),l.append(c)}}else l.append(function(){var t=i[n].series[o].user_avatar?"<div class='series-user'><span><img src='"+i[n].series[o].user_avatar+"' /></span></div>":"";return t+"<div class='series-content'><div class=\"series-name\">"+i[n].series[o].name+"</div><div class='series-dates'>"+moment(i[n].series[o].start,"MM/DD/YYYY").format("D MMM")+" - "+moment(i[n].series[o].end,"MM/DD/YYYY").format("D MMM")+"</div></div>"});r.append(l)}a.append(r),s.append(a)}e.append(s)}function o(e,i,s,n){var r=t("<div>",{"class":"ganttview-hzheader"}),o=t("<div>",{"class":"ganttview-hzheader-months"}),l=t("<div>",{"class":"ganttview-hzheader-days"}),c=0;for(var d in i)for(var h in i[d]){var u=i[d][h].length*s;c+=u,o.append(t("<div>",{"class":"ganttview-hzheader-month",css:{width:u-1+"px"}}).append(moment(parseInt(h)+1,"M").format("MMMM")+" "+d));for(var v in i[d][h]){var p=t("<div>",{"class":"ganttview-hzheader-day"});a.isWeekend(i[d][h][v])&&n&&p.addClass("ganttview-weekend"),l.append(p.append(i[d][h][v].getDate()))}}o.css("width",c+"px"),l.css("width",c+"px"),r.append(o).append(l),e.append(r)}function l(e,i,s,n,r){var o=t("<div>",{"class":"ganttview-grid"}),l=t("<div>",{"class":"ganttview-grid-row"});for(var c in s)for(var d in s[c])for(var h in s[c][d]){var u=t("<div>",{"class":"ganttview-grid-row-cell"});a.isWeekend(s[c][d][h])&&r&&u.addClass("ganttview-weekend"),l.append(u)}var v=t("div.ganttview-grid-row-cell",l).length*n;l.css("width",v+"px"),o.css("width",v+"px");for(var p=0;p<i.length;p++){o.append(t("<div>",{"class":"ganttview-grid-spacer","data-click-target":"groupId_"+p}));for(var g=0;g<i[p].series.length;g++)o.append(l.clone().addClass("groupId_"+p))}e.append(o)}function c(e,i){for(var s=t("<div>",{"class":"ganttview-blocks"}),n=0;n<i.length;n++){s.append(t("<div>",{"class":"ganttview-block-spacer"}));for(var a=0;a<i[n].series.length;a++)s.append(t("<div>",{"class":"ganttview-block-container groupId_"+n}))}e.append(s)}function d(e,i,s,n){for(var r=t("div.ganttview-blocks div.ganttview-block-container",e),o=0,l=0;l<i.length;l++)for(var c=0;c<i[l].series.length;c++){if(i[l].series[c].sub_series){var d=i[l].series[c].sub_series,u=i[l].series[c].name.replace(/(<([^>]+)>)/gi," ");$.each(d,function(e,c){var v=a.daysBetween(c.start,c.end)+1,p=a.daysBetween(n,c.start),g=c.user_name?" ("+c.user_name+")":"",f=t("<div>",{"class":"ganttview-block",title:u+g,css:{width:v*s-9+"px",left:p*s+3+"px"}});h(f,i[l],d[e]),c.color&&f.css("background-color",c.color);var m=c.title?c.link?'<a href="'+c.link+'" title="'+c.link+'">'+c.title+"</a>":c.title:moment.duration(v,"days").format();c.link?f.append(t("<div>",{"class":"ganttview-block-text"}).html(m)):f.append(t("<div>",{"class":"ganttview-block-text"}).text(m)),t(r[o]).append(f)})}else{var v=i[l].series[c],p=v.name.replace(/(<([^>]+)>)/gi," "),g=a.daysBetween(v.start,v.end)+1,f=a.daysBetween(n,v.start),m=t("<div>",{"class":"ganttview-block",title:p,css:{width:g*s-9+"px",left:f*s+3+"px"}});h(m,i[l],v),i[l].series[c].color&&m.css("background-color",i[l].series[c].color);var w=v.title?v.link?'<a href="'+v.link+'" title="'+v.link+'">'+v.title+"</a>":v.title:moment.duration(g,"days").format();v.link?m.append(t("<div>",{"class":"ganttview-block-text"}).html(w)):m.append(t("<div>",{"class":"ganttview-block-text"}).text(w)),t(r[o]).append(m)}o++}t(".ganttview-blocks").css({width:$(e).width()})}function h(e,i,s){var n={name:i.name};t.extend(n,s),e.data("block-data",n)}function u(e){t("div.ganttview-grid-row div.ganttview-grid-row-cell:last-child",e).addClass("last"),t("div.ganttview-hzheader-days div.ganttview-hzheader-day:last-child",e).addClass("last"),t("div.ganttview-hzheader-months div.ganttview-hzheader-month:last-child",e).addClass("last")}function v(t){$("div.ganttview-vtheader-group-name",t).addClass("toggle_enabled").on("click",function(){$thisId=$(this).attr("id"),$(this).hasClass("projectHidden")?($(this).removeClass("projectHidden").next("div").children().velocity("slideDown",{duration:180,easing:[.4,0,.2,1]}),$(".ganttview-block-container."+$thisId).show(),$(".ganttview-grid-row."+$thisId).velocity("slideDown",{duration:180,easing:[.4,0,.2,1]})):($(this).addClass("projectHidden").next("div").children().velocity("slideUp",{duration:180,easing:[.4,0,.2,1]}),$(".ganttview-block-container."+$thisId).hide(),$(".ganttview-grid-row."+$thisId).velocity("slideUp",{duration:180,easing:[.4,0,.2,1]}))}),$("div.ganttview-grid-spacer",t).on("click",function(){$("#"+$(this).attr("data-click-target")).click()})}function p(e){var i=t("div.ganttview-slide-container",e);$(i).kinetic({y:!1,filterTarget:function(t,e){return!($(t).closest(".ganttview-block").length||$(t).closest(".ganttview-grid-spacer").length)}})}return{render:s}},n=function(e,i){function s(){i.behavior.clickable&&n(e,i.behavior.onClick),i.behavior.resizable&&a(e,i.cellWidth,i.start,i.behavior.onResize),i.behavior.draggable&&r(e,i.cellWidth,i.start,i.behavior.onDrag)}function n(e,i){t("div.ganttview-block",e).on("click",function(){i&&i(t(this).data("block-data"))})}function a(e,i,s,n){t("div.ganttview-block",e).resizable({grid:i,handles:"e,w",stop:function(){var a=t(this);o(e,a,i,s),n&&n(a.data("block-data"))}})}function r(e,i,s,n){t("div.ganttview-block",e).draggable({axis:"x",grid:[i,i],containment:"parent",stop:function(){var a=t(this);o(e,a,i,s),n&&n(a.data("block-data"))}})}function o(e,i,s,n){var a=t("div.ganttview-slide-container",e),r=a.scrollLeft(),o=i.offset().left-a.offset().left-1+r,l=Math.round(o/s),c=moment(n).add(l,"days");i.data("block-data").start=c;var d=i.outerWidth(),h=Math.round(d/s)-1;i.data("block-data").end=moment(c).add(h,"days"),i.data("block-data").title||t("div.ganttview-block-text",i).text(moment.duration(h+1,"days").format()),i.css("top","").css("left",o+"px")}return{apply:s}},a={daysBetween:function(t,e){return t&&e?(t=Date.parse(t),e=Date.parse(e),1901==moment(t)._d.getYear()||8099==moment(e)._d.getYear()?0:moment(e).diff(moment(t),"days")):0},isWeekend:function(t){return t.getDay()%6==0},getBoundaryDatesFromData:function(t,e){var i=new Date;maxEnd=new Date;for(var s=0;s<t.length;s++)for(var n=0;n<t[s].series.length;n++){var a=Date.parse(t[s].series[n].start),r=Date.parse(t[s].series[n].end);0==s&&0==n&&(i=a,maxEnd=r),moment(i).isAfter(a)&&(i=a),moment(maxEnd).isBefore(r)&&(maxEnd=r)}return moment(maxEnd).diff(i,"days")<e&&(maxEnd=moment(i).add(e,"days")),[moment(i)._d,moment(maxEnd)._d]}}}(jQuery);